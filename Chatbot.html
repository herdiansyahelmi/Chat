<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CS Chatbot - Alfamind</title>
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        html{background:#1a1a2e;height:100%}
        body{font-family:Arial,sans-serif;background:#fff;max-width:420px;margin:0 auto;min-height:100vh;display:flex;flex-direction:column;box-shadow:0 0 40px rgba(0,0,0,.3)}
        .status-bar{background:#e30613;padding:8px 16px;display:flex;justify-content:space-between;font-size:11px;color:#fff;font-weight:bold;position:fixed;top:0;left:0;right:0;max-width:420px;margin:0 auto;z-index:100}
        .header{background:#e30613;color:#fff;padding:14px 16px;display:flex;align-items:center;gap:12px;position:fixed;top:28px;left:0;right:0;max-width:420px;margin:0 auto;z-index:100}
        .back{color:#fff;font-size:22px;text-decoration:none;font-weight:bold}
        .cs-avatar{width:36px;height:36px;border-radius:50%;object-fit:cover;border:2px solid #fff}
        .cs-info h3{font-size:15px;font-weight:bold}
        .cs-info p{font-size:11px;opacity:.9}
        .online-dot{width:8px;height:8px;background:#4caf50;border-radius:50%;display:inline-block;margin-right:4px}
        .messages{flex:1;overflow-y:auto;padding:16px;padding-top:100px;padding-bottom:80px;background:#fafafa;display:flex;flex-direction:column;gap:12px}
        .msg{max-width:85%;display:flex;flex-direction:column}
        .msg.bot{align-self:flex-start}
        .msg.user{align-self:flex-end}
        .msg .bubble{padding:12px 14px;border-radius:12px;font-size:13px;line-height:1.6;box-shadow:0 1px 3px rgba(0,0,0,.1)}
        .msg.bot .bubble{background:#fafafa;color:#333;border-bottom-left-radius:4px}
        .msg.user .bubble{background:#ff4757;color:#fff;border-bottom-right-radius:4px;box-shadow:0 2px 4px rgba(255,71,87,.2)}
        .msg .time{font-size:10px;color:#999;margin-top:4px}
        .msg.user .time{text-align:right}
        .msg.bot .bubble ul{list-style:disc;margin-left:18px;margin-top:8px}
        .msg.bot .bubble li{margin-bottom:6px}
        .msg.bot .bubble a.q{color:#333;text-decoration:none;font-weight:500;display:inline-block;border:1.5px solid #ff4757;padding:6px 14px;border-radius:20px;margin:4px;background:#fafafa;font-size:12px;transition:.2s;box-shadow:0 1px 3px rgba(0,0,0,.1)}
        .msg.bot .bubble a.q:hover{background:#ff4757;color:#fff;transform:translateY(-1px);box-shadow:0 2px 6px rgba(255,71,87,.3)}
        .msg.bot .bubble a.q:active{transform:scale(0.95)}
        .input-bar{padding:12px 16px;background:#fff;border-top:1px solid #eee;display:flex;gap:10px;align-items:center;position:fixed;bottom:0;left:0;right:0;max-width:420px;margin:0 auto}
        .input-bar input{flex:1;padding:12px 16px;border:1px solid #ddd;border-radius:25px;font-size:14px;outline:none}
        .input-bar input:focus{border-color:#e30613}
        .input-bar button{width:40px;height:40px;background:#e30613;color:#fff;border:none;border-radius:50%;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center}
        .input-bar button:hover{background:#c70511}
    </style>
</head>
<body>
<div class="status-bar"><span id="clock">14:24</span><div>üì∂ üîã</div></div>
<div class="header">
    <a href="PusatBantuan.html" class="back">‚Äπ</a>
    <img src="IconCS.jpg" alt="CS" class="cs-avatar">
    <div class="cs-info">
        <h3>CS Alfamind</h3>
        <p><span class="online-dot"></span>Online</p>
    </div>
</div>
<div class="messages" id="messages">
    <div class="msg bot">
        <div class="bubble">
            üëã Halo! Saya AI Assistant Alfamind. Pilih pertanyaan di bawah atau ketik sendiri:<br><br>
            <strong>Pertanyaan yang dapat diajukan:</strong>
            <ul>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara mendaftar menjadi store owner?');return false;">Bagaimana cara mendaftar menjadi store owner?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara melengkapi data diri?');return false;">Bagaimana cara melengkapi data diri?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara melihat profil?');return false;">Bagaimana cara melihat profil?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara melengkapi data bank?');return false;">Bagaimana cara melengkapi data bank?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara mengganti password?');return false;">Bagaimana cara mengganti password?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara tutup akun?');return false;">Bagaimana cara tutup akun?</a></li>
                <li><a href="#" class="q" onclick="ask('Apa itu saldo Alfamind?');return false;">Apa itu saldo Alfamind?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara top up saldo di aplikasi?');return false;">Bagaimana cara top up saldo di aplikasi?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara top up saldo di toko Alfamart?');return false;">Bagaimana cara top up saldo di toko Alfamart?</a></li>
                <li><a href="#" class="q" onclick="ask('Bagaimana cara cek mutasi saldo?');return false;">Bagaimana cara cek mutasi saldo?</a></li>
            </ul>
        </div>
        <div class="time" id="initTime"></div>
    </div>
</div>
<div class="input-bar">
    <input type="text" id="msgInput" placeholder="Ketik pertanyaan..." onkeypress="if(event.key==='Enter')sendMsg()">
    <button onclick="sendMsg()">‚û§</button>
</div>
<script>
function updateClock(){var d=new Date();document.getElementById('clock').textContent=d.getHours().toString().padStart(2,'0')+':'+d.getMinutes().toString().padStart(2,'0');}
updateClock();setInterval(updateClock,1000);
document.getElementById('initTime').textContent = getTime();

var responses = {
    'mendaftar': {
        match: ['mendaftar','daftar','registrasi','register','store owner'],
        answer: 'üìù <strong>Cara Mendaftar Menjadi Store owner Alfamind:</strong><br><br>Saat ini aplikasi Alfamind hanya tersedia khusus bagi pengguna smartphone Android yang dapat diunduh di Google Play Store<br><br>1. Download dan install aplikasi Alfamind dari Google Play Store<br>2. Buka aplikasi<br>3. Masukkan nomor WhatsApp<br>4. Masukkan kode OTP yang dikirim ke nomor WhatsApp<br>5. Lengkapi profil kamu<br>6. Masukkan kode referral store owner yang mengajak. Boleh dikosongkan jika tidak ada<br>7. Selesai'
    },
    'data_diri': {
        match: ['lengkapi data diri','data diri','ktp'],
        answer: 'üë§ <strong>Cara Melengkapi Data Diri:</strong><br><br>Kamu bisa melengkapi data diri kamu agar kami bisa lebih mengenal tentang kamu dan juga keuntungan lain yang membutuhkan data lengkap tentang kamu.<br><br>1. Buka aplikasi Alfamind<br>2. Pada halaman beranda, klik fitur \'Lengkapi Data Diri\'<br>3. Foto KTP kamu dengan jelas dan pencahayaan yang cukup<br>4. Isi data-data lainnya yang dibutuhkan dengan lengkap dan benar<br>5. Untuk data NPWP bisa dikosongkan jika tidak ada'
    },
    'profil': {
        match: ['lihat profil','melihat profil','cek profil'],
        answer: 'üëÅÔ∏è <strong>Cara Melihat Profil / Data Diri:</strong><br><br>Kamu bisa melihat data-data diri yang sudah diisi sebelumnya pada menu \'Akun Saya\'<br><br>1. Buka aplikasi Alfamind<br>2. Klik menu \'Akun Saya\'<br>3. Pilih \'Pengaturan Akun\'<br>4. Pilih \'Data Diri\' atau \'Data Bank\'<br><br><em>Beberapa data pribadi yang sudah dilengkapi sebelumnya tidak bisa dilakukan perubahan.</em>'
    },
    'data_bank': {
        match: ['data bank','rekening','tabungan','lengkapi bank'],
        answer: 'üè¶ <strong>Cara Melengkapi Data Bank:</strong><br><br>Lengkapi data bank kamu untuk menerima keuntungan berupa tunai dari program-program yang kamu ikuti<br><br>1. Buka aplikasi Alfamind<br>2. Klik menu \'Akun Saya\'<br>3. Pilih \'Pengaturan Akun\'<br>4. Pilih \'Data Bank\'<br>5. Lengkapi data bank sesuai dengan yang tercantum pada buku tabungan<br>6. Klik tombol \'Simpan\'<br><br><em>Data bank hanya dapat diinput satu kali. Pastikan data yang diinput sudah sesuai dengan yang tercantum di buku tabungan.</em>'
    },
    'password': {
        match: ['ganti password','kata sandi','password','sandi'],
        answer: 'üîê <strong>Cara Mengganti Password / Kata Sandi:</strong><br><br>Password atau kata sandi digunakan untuk melakukan masuk ke dalam aplikasi. Password atau kata sandi dapat diubah setiap saat.<br><br>1. Buka aplikasi Alfamind<br>2. Klik menu \'Akun Saya\'<br>3. Pilih \'Pengaturan Akun\'<br>4. Pilih \'Kata Sandi\'<br>5. Masukkan kata sandi lama<br>6. Masukkan kata sandi yang baru<br>7. Masukkan kembali kata sandi yang baru sebagai konfirmasi<br>8. Klik tombol \'Simpan\''
    },
    'tutup_akun': {
        match: ['tutup akun','hapus akun','delete akun'],
        answer: '‚ùå <strong>Cara Tutup Akun:</strong><br><br>1. Buka aplikasi Alfamind<br>2. Klik menu \'Akun Saya\'<br>3. Pilih \'Layanan\'<br>4. Pilih \'Tutup Akun\'<br>5. Periksa data diri dan data bank yang tersimpan<br>6. Isi alasan tutup akun<br>7. Klik tombol \'Lanjut\''
    },
    'saldo_info': {
        match: ['apa itu saldo','saldo alfamind'],
        answer: 'üí∞ <strong>Saldo Alfamind:</strong><br><br>Saldo Alfamind adalah deposit dana yang digunakan untuk melakukan pembayaran transaksi di Alfamind. Saldo Alfamind tidak dapat dicairkan. Saldo Alfamind ditampilkan di halaman beranda aplikasi Alfamind.'
    },
    'topup_app': {
        match: ['top up saldo di aplikasi','top up.*aplikasi','topup aplikasi'],
        answer: 'üì± <strong>Cara Top Up Saldo Alfamind Di Aplikasi:</strong><br><br>1. Buka aplikasi Alfamind<br>2. Klik \'Saldo Alfamind\' di halaman beranda<br>3. Pilih \'Top Up Saldo\'<br>4. Masukkan nominal saldo yang akan di top up<br>5. Klik tombol \'Selanjutnya\'<br>6. Pilih metode pembayaran yang tersedia dan ikuti langkah-langkah selanjutnya<br>7. Selesai'
    },
    'topup_toko': {
        match: ['top up.*toko','top up.*alfamart','saldo.*alfamart','alfamart.*saldo'],
        answer: 'üè™ <strong>Cara Top Up Saldo Alfamind Di Toko Alfamart:</strong><br><br>1. Informasikan ke petugas kasir jika kamu melakukan top up saldo Alfamind<br>2. Informasikan alamat email terdaftar<br>3. Sebutkan jumlah saldo yang akan ditop up-kan (Jumlah minimal saldo awal saat ini adalah Rp 20.000)<br>4. Kamu akan menerima struk sebagai bukti telah melakukan top up saldo'
    },
    'mutasi': {
        match: ['cek mutasi','mutasi saldo','histori','riwayat'],
        answer: 'üìä <strong>Cara Cek Mutasi Saldo Alfamind:</strong><br><br>1. Buka aplikasi Alfamind<br>2. Klik \'Saldo Alfamind\' di halaman beranda<br>3. Pilih bulan di bagian \'Histori Transaksi Bulan\' untuk melihat mutasi pada bulan-bulan sebelumnya'
    }
};

function getTime(){
    var d=new Date();
    return d.getHours().toString().padStart(2,'0')+':'+d.getMinutes().toString().padStart(2,'0');
}

function addMsg(text,isUser){
    var c=document.getElementById('messages');
    var div=document.createElement('div');
    div.className='msg '+(isUser?'user':'bot');
    div.innerHTML='<div class="bubble">'+text+'</div><div class="time">'+getTime()+'</div>';
    c.appendChild(div);
    div.scrollIntoView({behavior:'smooth',block:'end'});
}

function findAnswer(text){
    var lower=text.toLowerCase();
    if(lower.match(/terima kasih|thanks|makasih/)) return 'üôè Senang bisa membantu! Jika ada pertanyaan lain, jangan ragu untuk bertanya.';
    
    var exactMatch=null;
    var suggestions=[];
    
    for(var key in responses){
        var r=responses[key];
        for(var i=0;i<r.match.length;i++){
            if(lower.indexOf(r.match[i])!==-1){
                exactMatch=r.answer+'<br><br>Ada yang bisa dibantu lagi? üòä';
                break;
            }
        }
        if(exactMatch)break;
    }
    
    if(exactMatch)return exactMatch;
    
    var keywords={
        'saldo':['saldo_info','topup_app','topup_toko','mutasi'],
        'top up':['topup_app','topup_toko'],
        'topup':['topup_app','topup_toko'],
        'daftar':['mendaftar'],
        'registrasi':['mendaftar'],
        'data':['data_diri','data_bank','profil'],
        'bank':['data_bank'],
        'profil':['profil'],
        'password':['password'],
        'kata sandi':['password'],
        'akun':['tutup_akun','profil','password'],
        'mutasi':['mutasi'],
        'histori':['mutasi'],
        'riwayat':['mutasi']
    };
    
    for(var kw in keywords){
        if(lower.indexOf(kw)!==-1){
            var keys=keywords[kw];
            for(var j=0;j<keys.length;j++){
                if(suggestions.indexOf(keys[j])===-1)suggestions.push(keys[j]);
            }
        }
    }
    
    if(suggestions.length>0){
        var msg='ü§î Apakah yang Anda maksud:<br><br><div style="display:flex;flex-wrap:wrap;gap:6px;margin-top:12px">';
        for(var s=0;s<suggestions.length;s++){
            var title='';
            if(suggestions[s]==='mendaftar')title='Cara Mendaftar Menjadi Store owner';
            else if(suggestions[s]==='data_diri')title='Cara Melengkapi Data Diri';
            else if(suggestions[s]==='profil')title='Cara Melihat Profil / Data Diri';
            else if(suggestions[s]==='data_bank')title='Cara Melengkapi Data Bank';
            else if(suggestions[s]==='password')title='Cara Mengganti Password';
            else if(suggestions[s]==='tutup_akun')title='Cara Tutup Akun';
            else if(suggestions[s]==='saldo_info')title='Apa itu Saldo Alfamind';
            else if(suggestions[s]==='topup_app')title='Cara Top Up Saldo di Aplikasi';
            else if(suggestions[s]==='topup_toko')title='Cara Top Up Saldo di Toko Alfamart';
            else if(suggestions[s]==='mutasi')title='Cara Cek Mutasi Saldo';
            msg+='<a href="#" class="q" onclick="ask(\''+title+'\');return false;">'+title+'</a>';
        }
        msg+='</div>';
        return msg;
    }
    
    return null;
}

function ask(question){
    addMsg(question,true);
    var c=document.getElementById('messages');
    var typing=document.createElement('div');
    typing.className='msg bot';typing.id='typing';
    typing.innerHTML='<div class="bubble">‚è≥ Mencari data...</div>';
    c.appendChild(typing);
    typing.scrollIntoView({behavior:'smooth',block:'end'});
    setTimeout(function(){
        var el=document.getElementById('typing');if(el)el.remove();
        var answer=findAnswer(question);
        if(answer){addMsg(answer,false);}
        else{addMsg('Maaf, saya belum menemukan jawaban untuk pertanyaan tersebut. Silakan pilih pertanyaan di atas atau ketik ulang. üòä',false);}
    },1000);
}

function sendMsg(){
    var input=document.getElementById('msgInput');
    var text=input.value.trim();
    if(!text)return;
    input.value='';
    ask(text);
}
</script>
</body>
</html>
